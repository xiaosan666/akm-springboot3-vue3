# 全局组件

项目封装了一系列全局组件，在 `main.js` 中统一注册，可在任意页面直接使用。

## 组件列表

| 组件名          | 说明               |
| --------------- | ------------------ |
| `AkmDialog`     | 弹窗组件           |
| `AkmForm`       | 表单组件           |
| `AkmFormView`   | 表单详情展示组件   |
| `AkmTable`      | 表格组件           |
| `AkmSelect`     | 下拉选择组件       |
| `AkmSelectDict` | 字典下拉选择组件   |
| `AkmRadioDict`  | 字典单选组件       |
| `AkmWarnBtn`    | 警告按钮（带确认） |

---

## AkmDialog 弹窗组件

基于 Element Plus Dialog 封装的弹窗组件。

### 基本用法

```vue
<template>
  <akm-dialog
    v-model="dialogVisible"
    title="弹窗标题"
    width="600px"
    @confirm="handleConfirm"
    @cancel="handleCancel"
  >
    <div>弹窗内容</div>
  </akm-dialog>
</template>
```

### Props

| 属性       | 类型    | 默认值 | 说明         |
| ---------- | ------- | ------ | ------------ |
| modelValue | Boolean | false  | 是否显示弹窗 |
| title      | String  | ''     | 弹窗标题     |
| width      | String  | '50%'  | 弹窗宽度     |

### Events

| 事件名  | 说明               |
| ------- | ------------------ |
| confirm | 点击确认按钮时触发 |
| cancel  | 点击取消按钮时触发 |

---

## AkmForm 表单组件

配置式表单组件，支持多种表单项类型。

### 基本用法

```vue
<template>
  <akm-form
    ref="form"
    :config="formConfig"
    :data="formData"
    @query="handleQuery"
    @reset="handleReset"
  />
</template>

<script>
export default {
  data() {
    return {
      formData: {
        username: '',
        status: '',
        dateRange: []
      },
      formConfig: {
        inline: true,
        showQuery: true,
        showBorder: true,
        showMoreBtn: true,
        items: [
          { type: 'input', prop: 'username', label: '用户名' },
          { type: 'dict', code: 'status_type', prop: 'status', label: '状态' },
          { type: 'datetimerange', prop: 'dateRange', label: '时间范围', className: 'width2X' }
        ]
      }
    }
  }
}
</script>
```

### Config 配置项

| 属性        | 类型    | 默认值 | 说明                   |
| ----------- | ------- | ------ | ---------------------- |
| inline      | Boolean | false  | 是否行内表单           |
| showQuery   | Boolean | false  | 是否显示查询按钮       |
| showBorder  | Boolean | false  | 是否显示边框           |
| showMoreBtn | Boolean | false  | 是否显示展开/收起按钮  |
| items       | Array   | []     | 表单项配置             |

### Item 表单项配置

| 属性      | 类型   | 说明                             |
| --------- | ------ | -------------------------------- |
| type      | String | 类型：input/dict/datetimerange/select 等 |
| prop      | String | 字段名                           |
| label     | String | 标签                             |
| code      | String | 字典编码（type='dict' 时使用）   |
| className | String | 自定义类名                       |

---

## AkmFormView 表单详情组件

用于展示表单详情数据。

### 基本用法

```vue
<template>
  <akm-form-view :config="formConfig" />
</template>

<script>
export default {
  data() {
    return {
      formConfig: {
        loading: false,
        labelWidth: 150,
        data: {
          id: '123',
          username: 'admin',
          createTime: 1699999999999
        },
        items: [
          { prop: 'id', label: 'ID' },
          { prop: 'username', label: '用户名' },
          { prop: 'createTime', label: '创建时间', type: 'datetime' },
          { prop: 'status', label: '状态', type: 'dict', code: 'status_type' }
        ]
      }
    }
  }
}
</script>
```

---

## AkmTable 表格组件

配置式表格组件，支持分页、排序。

### 基本用法

```vue
<template>
  <akm-table
    :config="tableConfig"
    @pageNumChange="onPageNumChange"
    @pageSizeChange="onPageSizeChange"
    @sort-change="onSortChange"
  >
    <template v-slot:toolbar>
      <el-button type="primary" @click="handleAdd">新增</el-button>
    </template>
    <el-table-column label="操作" width="150" fixed="right">
      <template v-slot="{ row }">
        <el-button type="primary" link @click="handleEdit(row)">编辑</el-button>
        <el-button type="danger" link @click="handleDelete(row)">删除</el-button>
      </template>
    </el-table-column>
  </akm-table>
</template>

<script>
export default {
  data() {
    return {
      tableConfig: {
        data: [],
        loading: false,
        autoComputedHeight: true,
        pagination: true,
        pageNum: 1,
        pageSize: 10,
        total: 0,
        orderBy: '',
        columns: [
          { prop: 'username', label: '用户名', width: 120 },
          { prop: 'name', label: '姓名', width: 100 },
          { prop: 'createTime', label: '创建时间', width: 170, sortable: 'custom' }
        ]
      }
    }
  }
}
</script>
```

### Config 配置项

| 属性               | 类型    | 默认值 | 说明         |
| ------------------ | ------- | ------ | ------------ |
| data               | Array   | []     | 表格数据     |
| loading            | Boolean | false  | 加载状态     |
| pagination         | Boolean | true   | 是否显示分页 |
| pageNum            | Number  | 1      | 当前页码     |
| pageSize           | Number  | 10     | 每页条数     |
| total              | Number  | 0      | 总条数       |
| columns            | Array   | []     | 列配置       |
| autoComputedHeight | Boolean | false  | 自动计算高度 |

---

## AkmSelect 下拉选择组件

封装的下拉选择组件。

### 基本用法

```vue
<template>
  <akm-select
    v-model="value"
    :options="options"
    placeholder="请选择"
  />
</template>

<script>
export default {
  data() {
    return {
      value: '',
      options: [
        { label: '选项1', value: '1' },
        { label: '选项2', value: '2' }
      ]
    }
  }
}
</script>
```

---

## AkmSelectDict 字典下拉组件

基于字典数据的下拉选择组件。

### 基本用法

```vue
<template>
  <akm-select-dict
    v-model="status"
    code="status_type"
    placeholder="请选择状态"
  />
</template>
```

### Props

| 属性        | 类型          | 说明     |
| ----------- | ------------- | -------- |
| modelValue  | String/Number | 绑定值   |
| code        | String        | 字典编码 |
| placeholder | String        | 占位文本 |

---

## AkmRadioDict 字典单选组件

基于字典数据的单选按钮组。

### 基本用法

```vue
<template>
  <akm-radio-dict
    v-model="status"
    code="status_type"
  />
</template>
```

---

## AkmWarnBtn 警告按钮

带确认提示的警告按钮。

### 基本用法

```vue
<template>
  <akm-warn-btn @confirm="handleDelete">
    删除
  </akm-warn-btn>
</template>
```

### Events

| 事件名  | 说明           |
| ------- | -------------- |
| confirm | 确认操作时触发 |

