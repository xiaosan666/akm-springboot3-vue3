# 自定义指令

项目封装了一系列自定义指令，简化常用的 DOM 操作。

## 指令列表

| 指令           | 说明     |
| -------------- | -------- |
| `v-has`        | 权限控制 |
| `v-focus`      | 自动聚焦 |
| `v-dialogDrag` | 弹窗拖拽 |
| `v-margin`     | 外边距   |
| `v-padding`    | 内边距   |
| `v-text-center`| 文本居中 |
| `v-text-left`  | 文本居左 |
| `v-text-right` | 文本居右 |

---

## v-has - 权限控制

根据权限编码控制元素显示/隐藏。

### 使用方法

```vue
<template>
  <!-- 有 user_add 权限才显示 -->
  <el-button v-has="'user_add'" type="primary">新增</el-button>
  
  <!-- 有 user_delete 权限才显示 -->
  <el-button v-has="'user_delete'" type="danger">删除</el-button>
</template>
```

### 说明

- 权限编码从后端菜单接口获取
- 无权限时元素会被移除（不是隐藏）

---

## v-focus - 自动聚焦

页面加载时自动聚焦到元素。

### 使用方法

```vue
<template>
  <el-input v-focus placeholder="自动聚焦" />
</template>
```

---

## v-dialogDrag - 弹窗拖拽

使 Element Plus 弹窗支持拖拽。

### 使用方法

```vue
<template>
  <el-dialog v-dialogDrag title="可拖拽弹窗">
    弹窗内容
  </el-dialog>
</template>
```

---

## v-margin - 外边距指令

快速设置元素外边距。

### 使用方法

```vue
<template>
  <!-- 设置 margin: 12px -->
  <div v-margin="12">内容</div>
  
  <!-- 设置 margin-left: 16px -->
  <div v-margin-left="16">内容</div>
  
  <!-- 设置 margin-right: 20px -->
  <div v-margin-right="20">内容</div>
  
  <!-- 设置 margin-top: 8px -->
  <div v-margin-top="8">内容</div>
  
  <!-- 设置 margin-bottom: 24px -->
  <div v-margin-bottom="24">内容</div>
</template>
```

### 支持的指令

| 指令              | 说明          |
| ----------------- | ------------- |
| `v-margin`        | margin        |
| `v-margin-left`   | margin-left   |
| `v-margin-right`  | margin-right  |
| `v-margin-top`    | margin-top    |
| `v-margin-bottom` | margin-bottom |

---

## v-padding - 内边距指令

快速设置元素内边距。

### 使用方法

```vue
<template>
  <!-- 设置 padding: 12px -->
  <div v-padding="12">内容</div>
  
  <!-- 设置 padding-left: 16px -->
  <div v-padding-left="16">内容</div>
  
  <!-- 设置 padding-right: 20px -->
  <div v-padding-right="20">内容</div>
  
  <!-- 设置 padding-top: 8px -->
  <div v-padding-top="8">内容</div>
  
  <!-- 设置 padding-bottom: 24px -->
  <div v-padding-bottom="24">内容</div>
</template>
```

### 支持的指令

| 指令               | 说明           |
| ------------------ | -------------- |
| `v-padding`        | padding        |
| `v-padding-left`   | padding-left   |
| `v-padding-right`  | padding-right  |
| `v-padding-top`    | padding-top    |
| `v-padding-bottom` | padding-bottom |

---

## v-no-margin / v-no-padding

移除元素的边距。

### 使用方法

```vue
<template>
  <div v-no-margin>无外边距</div>
  <div v-no-padding>无内边距</div>
</template>
```

---

## v-text-center / v-text-left / v-text-right

文本对齐指令。

### 使用方法

```vue
<template>
  <div v-text-center>居中文本</div>
  <div v-text-left>居左文本</div>
  <div v-text-right>居右文本</div>
</template>
```

---

## 组合使用示例

```vue
<template>
  <div class="toolbar" v-margin-bottom="16">
    <el-button v-has="'user_add'" v-margin-right="8" type="primary">
      新增
    </el-button>
    <el-button v-has="'user_export'" type="success">
      导出
    </el-button>
  </div>
  
  <el-dialog v-dialogDrag title="用户详情">
    <el-form>
      <el-form-item label="用户名">
        <el-input v-focus v-model="username" />
      </el-form-item>
    </el-form>
  </el-dialog>
</template>
```

